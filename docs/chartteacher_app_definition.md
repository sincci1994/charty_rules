# 📊 ChartTeacher 앱 정의서 (구현 기반)

## 1. 프로젝트 개요

### 1.1 목적

기술적 분석 학습과 심리적 패턴 분석을 결합한 트레이딩 교육 플랫폼. 실거래 환경에 가까운 차트 기반 시뮬레이션과 감정/이유 기록을 통해 사용자 개인화된 피드백을 제공.

### 1.2 범위

- 차트 기반 매매 시뮬레이션 제공
- 기술적 분석 교육 콘텐츠 제공
- 사용자 입력 기반 통계 및 규칙 분석
- AI(초기: rule-based) 기반 알람 및 전략 제안
- 커뮤니티 및 랭킹 기능 포함

---

## 2. 주요 사용자 정의

| 사용자 유형    | 요구사항                        |
| --------- | --------------------------- |
| 초보 트레이더   | 기술적 분석 기초 이론과 시뮬레이션 학습 제공   |
| 심리 개선 희망자 | 감정/이유 기록을 통한 자기 객관화         |
| 전략 개선 사용자 | AI 분석을 통한 반복 패턴 피드백 및 전략 도출 |

---

## 3. 시스템 주요 기능 정의 (기능 ID 기준)

### 3.1 연습 기능

- **FT-01**: 전략 유형 선택 및 시뮬레이션 시작
- **FT-02**: 차트 기반 포지션 진입/청산 처리
- **FT-03**: 감정 및 매매 이유 입력 기록 저장
- **FT-04**: 회고 입력 및 트레이드 로그 저장
- **FT-05**: 스피드 퀴즈 기능으로 빠른 판단 훈련 제공

### 3.2 학습 콘텐츠

- **LT-01**: 기술적 분석 이론 문서 제공
- **LT-02**: 이미지 중심 설명 및 진도 시스템
- **LT-03**: 퀴즈 문제 출제 및 피드백 제공

### 3.3 기록/회고 관리

- **RT-01**: 매매 기록 리스트 제공 및 필터링
- **RT-02**: 통계 기반 분석 대시보드 제공 (승률, 감정 성공률 등)

### 3.4 AI 분석 및 알람

- **AI-01**: 사용자 기록 기반 규칙 도출 (rule-based)
- **AI-02**: 진입/청산/리스크 경고 알람 제공

### 3.5 커뮤니티/랭킹/기타

- **CT-01**: 전략 공유 및 실패 사례 등록
- **CT-02**: 사용자 랭킹 시스템 (수익률/생존률)
- **ST-01**: 사용자 설정, 프로필, 진도 설정 기능

---

## 4. 데이터 구조 개요

### 4.1 주요 Entity

- `User`: 사용자 정보 및 설정
- `TradeRecord`: 각 매매 기록, 감정/이유 포함
- `Strategy`: 사용자의 커스텀 전략
- `QuizResult`: 학습 퀴즈 기록
- `AIResult`: AI 분석 결과 및 피드백 로그

### 4.2 TradeRecord 예시

```json
{
  "user_id": 123,
  "trade_id": "TR20240617-001",
  "strategy_type": "swing",
  "entry_price": 150.25,
  "stop_loss": 145.0,
  "take_profit": 160.0,
  "position": "long",
  "emotion": "불안",
  "reason": "지지선 부근에서 반등 신호",
  "result": "익절",
  "timestamp": "2025-06-17T09:00:00Z"
}
```

---

## 5. 유료화 및 기능 플래닝

| 기능 구분  | 무료 기능        | 유료 기능 (구독 기반)             |
| ------ | ------------ | ------------------------- |
| 시뮬레이션  | 기본 전략 훈련, 회고 | 고급 전략 분석, 다중 시나리오 백테스트    |
| AI 분석  | 기본 규칙 통계     | 개인화 추천, 리스크 알람, 전략 성장 추적  |
| 학습 콘텐츠 | 이론 및 기본 퀴즈   | 고급 사례, 영상 강의, 시뮬레이션 연계 퀴즈 |
| 기록/회고  | 기본 통계 및 기록   | 개인 리포트, 감정-성과 시각화, 비교 분석  |
| 알람     | 기본 시그널       | 사용자 맞춤 전략 알람, 실패 방지 경고    |

---

## 6. 비기능 요구사항

| 항목     | 요구사항 설명                        |
| ------ | ------------------------------ |
| 반응성    | 모든 주요 인터랙션은 100ms 이내 응답        |
| 데이터 보존 | 매매 기록은 최소 12개월 이상 보관           |
| 보안     | 사용자 매매 데이터는 서버 단 AES 암호화 저장    |
| 확장성    | AI 엔진은 추후 ML 기반으로 확장 가능해야 함    |
| 유지보수성  | 기능 단위 별 모듈화 및 API 명세 기반 구조화 개발 |

---

## 7. 리스크 관리 및 대응 전략

| UX 리스크    | 문제 설명                 | 대응 전략                       |
| --------- | --------------------- | --------------------------- |
| 진입 장벽     | 초보자용 인터페이스가 복잡할 수 있음  | 튜토리얼 모드, 사용자 레벨별 콘텐츠 분리     |
| 감정 입력 피로도 | 반복 입력으로 기록 누락 발생      | 자동완성, 최근 입력 추천, 버튼 기반 입력    |
| AI 불신     | rule-based AI의 신뢰도 이슈 | 데이터 기반 근거 제시, "학습 중" 상태 시각화 |
| 리텐션 저하    | 반복 사용 유도 장치 부족        | 성장 피드백 카드, 목표 달성 보상, 주간 리포트 |
| 유료 기능 거부감 | 유료 기능 가치 미인식          | 무료 체험, 단계별 오픈, 성공 사례 공유     |

---

## 8. 문서화 및 확장 계획

- API 명세서 (OpenAPI 3.0 기반) 별도 작성
- UI/UX 플로우: 상태 전이도 + 와이어프레임 제공 예정
- AI 엔진 구조 및 모델 파이프라인은 v2에서 확장 기획
- CI/CD 및 운영 아키텍처는 기술 설계서(SDD)에 포함

---

> 본 정의서는 개발 문서 작성의 기준점이며, 이후 모든 기능 명세, API 설계, UI 설계, 테스트 케이스 설계의 기준으로 활용됩니다.

